% Copyright (C) 2008, 2009, 2012, 2014 Bert Burgemeister
%
% Permission is granted to copy, distribute and/or modify this
% document under the terms of the GNU Free Documentation License,
% Version 1.2; with no Invariant Sections, no Front-Cover Texts and
% no Back-Cover Texts. For details see file COPYING.
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{散列表} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Loop 宏提供了额外的散列表相关功能，参见第
\pageref{section:Loop 宏} 页 \kwd{loop}。

类似散列表的键-值存储也可用关联表和属性表实现，参见第
\pageref{section:关联表} 页和第
\pageref{:property_lists} 页。


\begin{LIST}{1cm}

  \IT{(\FU*{HASH-TABLE-P} \VAR{foo})}
  {
  当 \VAR{foo} 为 \kwd{hash-table} 时返回 \retval{\T}。
  }

  \IT{(\FU*{MAKE-HASH-TABLE} 
    \orGOO{\kwd{:test }\Goo{\FU{eq}\XOR \FU{eql}\XOR
        \FU{equal} \XOR \FU{equalp}}\DF{\kwd{\#'eql}}\\ 
      \kwd{:size} \VAR{ int}\\
      \kwd{:rehash-size} \VAR{ num}\\
      \kwd{:rehash-threshold} \VAR{ num}}{\}})}
  {
  创建 \retval{散列表}。
  }

  \IT{(\FU*{GETHASH} \VAR{key} \VAR{hash-table} \Op{\VAR{default}\DF{\NIL}})}
  {
  若存在，返回
  \VAR{key} 的 \retval{对象} 及 \retvalii{\T}，否则返回
  \retval{\VAR{default}} 及 \retvalii{\NIL}。可 \kwd{setf}。
  }

  \IT{(\FU*{HASH-TABLE-COUNT} \VAR{hash-table})}
  {
  \VAR{hash-table} 内的 \retval{项数}。
  }

  \IT{(\FU*{REMHASH} \VAR{key} \DES{\VAR{hash-table}})}
  {
  若存在，从 \VAR{hash-table} 中删除 \VAR{key} 项并返回
  \retval{\T}，否则返回 \retval{\NIL}。
  }

  \IT{(\FU*{CLRHASH} \DES{\VAR{hash-table}})}
  {
  清空 \retval{\VAR{hash-table}}。
  }

  \IT{(\FU*{MAPHASH} \VAR{function} \VAR{hash-table})}
  {
  遍历散列表，用键和值调用函数。返回
  \retval{\NIL}。
  }

  \IT{(\MC*{WITH-HASH-TABLE-ITERATOR} (\VAR{foo} \VAR{hash-table})
    \OPn{(\kwd{declare} \OPn{\NEV{\VAR{decl}}})} \PROGN{\VAR{form}})}
  {
  返回 \retval{\VAR{form}s 的所有值}。在 \VAR{form}
  内，调用 (\VAR{foo}) 返回：\T\
  当有项返回时，其键及其值。
  }

  \IT{(\FU*{HASH-TABLE-TEST} \VAR{hash-table})}
  {
  \VAR{hash-table} 所使用的 \retval{测试函数}。
  }

  \IT{\arrGOO{(\FU*{HASH-TABLE-SIZE} \VAR{ hash-table})\\
      (\FU*{HASH-TABLE-REHASH-SIZE} \VAR{ hash-table})\\
      (\FU*{HASH-TABLE-REHASH-THRESHOLD} \VAR{ hash-table})}{.}}
  {
  当前 \retval{大小}、\retval{重散列大小}、\retval{重散列阈值}，如
  \FU{make-hash-table} 所用参数。
  }

  \IT{(\FU*{SXHASH} \VAR{foo})}
     {
       \retval{散列值}，对 \FU{equal} \VAR{foo} 的参数唯一。
     }

\end{LIST}



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "clqr"
%%% End: 
